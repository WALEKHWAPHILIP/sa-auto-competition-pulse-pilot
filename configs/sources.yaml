version: 1

sources:

  # ----------------------------
  # NAAMSA discovery (HTML index)
  # ----------------------------
  - source_id: "naamsa_press_releases"
    kind: "html_index"
    base_url: "https://naamsa.net/press-releases/"
    discovery:
      method: "crawl_single_page_links"
      entry_points:
        - "https://naamsa.net/press-releases/"
    allow:
      - "^https://naamsa\\.net/press-releases/.*"
    deny: []
    notes:
      purpose: "Discovery page that contains links to flash reports and media releases."
      citation_hint: "NAAMSA press releases index page"

  # -----------------------------------------
  # NAAMSA PDFs (targets we actually download)
  # -----------------------------------------
  - source_id: "naamsa_pdfs"
    kind: "pdf_targets"
    discovery:
      method: "from_source_links"
      from_source_id: "naamsa_press_releases"
      pdf_allow_regex:
        - "wp-content/uploads/.*/.*Flash-Report.*\\.pdf$"
        - "wp-content/uploads/.*/.*New-Vehicle-Sales.*Media-Release.*\\.pdf$"
    notes:
      purpose: "Monthly flash reports + monthly media releases (PDF) for sales outcomes."
      citation_hint: "Example NAAMSA PDFs"

  # ----------------------------
  # News sources (2 only, fixed)
  # ----------------------------
  - source_id: "businesstech_motoring"
    kind: "news_site"
    discovery:
      method: "section_pagination"
      entry_points:
        - "https://businesstech.co.za/news/motoring/"
        - "https://businesstech.co.za/news/category/motoring/"
      pagination:
        page_pattern: "https://businesstech.co.za/news/category/motoring/page/{page}/"
        start_page: 1
        max_pages: 40
    allow:
      - "^https://businesstech\\.co\\.za/news/.*"
    deny:
      - "/tag/"
      - "/author/"
      - "/category/"
      - "/page/"
    notes:
      purpose: "Automotive market and competition signals (launches, recalls, entries)."
      citation_hint: "BusinessTech motoring section"

  - source_id: "iol_industry_news"
    kind: "news_site"
    discovery:
      method: "section_pagination"
      entry_points:
        - "https://iol.co.za/motoring/industry-news/"
      pagination:
        page_pattern: null
        start_page: 1
        max_pages: 60
    allow:
      - "^https://iol\\.co\\.za/motoring/.*"
    deny:
      - "/video/"
      - "/opinion/"
      - "/sport/"
    notes:
      purpose: "Industry and policy coverage relevant to competition dynamics."
      citation_hint: "IOL Motoring Industry News"
